{
  "name": "Omega3P Test 1",
  "steps": [
    {
      "action": "Clone the ace3p-extensions repository, either\n<a class=\"literal-link\" target=\"_blank\" href=\"https://gitlab.kitware.com/cmb/plugins/ace3p-extensions.git\"></a>\nor <a class=\"literal-link\" target=\"_blank\" href=\"git@gitlab.kitware.com:cmb/plugins/ace3p-extensions.git\"></a>.\n",
      "title": "Clone or update ace3p-extensions repository"
    },
    {
      "action": "Todo",
      "title": "Load project plugin"
    },
    {
      "action": "Select Project => New Project...",
      "expect": "modelbuilder to open a directory browser dialog",
      "title": "New project"
    },
    {
      "action": "In that dialog, navigate to the test directory you created in the setup procedure and create a subdirectory <strong>yyyy-mm-dd/omega3p-test1</strong>. Select the new subdirectory and click the OK.",
      "expect": "modelbuilder to display a \"Specify New Project\" dialog with the \"Workspace Directory\" and \"Name (Subdirectory)\" fields set.",
      "title": "New project directory"
    },
    {
      "action": "Set the \"Simulation Template File\" to the ACE3P template that is in the ace3p-extensions repository at <tt>simulation-workflows/ACE3P.sbt</tt>.",
      "title": "Simulation template \"ACE3P.sbt\""
    },
    {
      "action": "Set the \"Geometry File\" to <tt>data/model/3d/genesis/pillbox4.gen</tt>.",
      "title": "Geometry model \"pillbox4.gen\""
    },
    {
      "action": "Click the \"Apply\" button.",
      "expect": "modelbuilder to close the dialog, then display the model geometry in the 3D view and update the Attribute Editor to display a \"Modules\" tab. On some systems, the model is not immediately displayed, but instead it appears when the \"Resources\" tab is selected. If that occurs, add a comment to the GitLab issue. Verify that there are two items listed in the \"Resources\" panel, labeled <tt>sbi.default</tt> and <tt>pillbox4</tt>.",
      "title": "Apply"
    },
    {
      "action": "<li>Select whether to record or play the test. In general, you should select PLAY if the xml file is available.</li>\n<li>If you select PLAY, use the \"Tools\" => \"Play Test...\" menu item and navigate to the \"omega3p-test1.xml\" file.</li>\n<li>If you select RECORD, use the \"Tools\" => \"Record Test...\" menu and specify \"omega3p-test1.xml\" as the file.</li>\n",
      "begin": "record/play",
      "title": "Begin record/play omega3p-test1.xml"
    },
    {
      "action": "In the \"Attribute Editor\" panel, select the \"Omega3P\" option in the \"Modules\" tab.",
      "expect": "modelbuilder to display 3 additional tabs \"Boundary Conditions\", \"Materials\", and \"Analysis\".",
      "title": "Set Omega3P module"
    },
    {
      "action": "In the \"Boundary Conditions\" panel:\n<ol>\n  <li>Set \"Unnamed set ID: 1\" to \"Magnetic\".</li>\n  <li>Set \"Unnamed set ID: 2\" to \"Magnetic\".</li>\n  <li>Set \"Unnamed set ID: 6\" to \"Exterior\".</li>\n</ol>\n",
      "title": "Set Boundary Conditions"
    },
    {
      "action": "In the \"Analysis\" tab, set \"Number of eigenmodes searched\" to 3.",
      "expect": "background color of that field to change from yellow to white.",
      "title": "Set Analysis options"
    },
    {
      "action": "Click the Project => Project Save menu item.",
      "expect": "modelbuilder to display \"Saved project\" in the \"Output Messages\" panel.",
      "title": "Save Project"
    },
    {
      "action": "If you are recording the test, click the \"Stop Recording\" button to save the xml script.",
      "end": "record/play",
      "title": "Finish record/play"
    },
    {
      "action": "Select the Project => Export Project menu item.",
      "expect": "modelbuilder to open a \"Simulation Export Dialog\" with every field set and the \"Apply\" button enabled.",
      "title": "Begin Export Project"
    },
    {
      "action": "Click the \"Apply\" button.",
      "expect": "modelbuilder to close the dialog and write a few lines to the \"Output Messages\" panel, the last one <tt>Number of warnings: 0</tt>.\n",
      "title": "Apply Export"
    },
    {
      "action": "Verify that a short text file was created in a project subdirectory <tt>omega3p-test1/export</tt> with an extension <tt>omega3p</tt>.",
      "title": "Verify Result"
    },
    {
      "action": "Select the Project => Close Project menu item.",
      "expect": "modelbuilder to clear both tabs (\"Attribute Editor\", \"Resources\") and the 3D display.",
      "title": "Close Project"
    },
    {
      "action": "Add note to GitLab issue that test was completed.",
      "title": "Report"
    }
  ]
}
